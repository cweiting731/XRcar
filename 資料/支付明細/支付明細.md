---
上層:
  - "[[資訊專題(一)]]"
---
```dataviewjs
let bills = dv.pages('"魔導大圖書館/成大雜項/課程/資訊專題/資料/支付明細/資料"').array();
let hasPaid = bills
	.filter(p => p.總計 && p.已繳 == true)
	.reduce((acc, p) => acc + p.總計, 0);
let shouldPaid = bills
	.filter(p => p.總計 && p.已繳 == false)
	.reduce((acc, p) => acc + p.總計, 0);


dv.paragraph(`💰 應支付：${Math.floor(shouldPaid / 2)} 元`);
dv.paragraph(`💰 已支付：${Math.floor(hasPaid / 2)} 元`);
let total = shouldPaid + hasPaid;
dv.paragraph(`💰 一人應支出: ${Math.floor(total / 2)}`)
dv.paragraph(`💰 總支出：${total} 元`);
```
```base
filters:
  and:
    - file.path.startsWith(this.file.folder + "/資料/")
views:
  - type: table
    name: 資料夾清單
    filters:
      and:
        - file.hasLink("魔導大圖書館/成大雜項/課程/資訊專題/資料/支付明細/支付明細")
    order:
      - file.name
      - 其他
      - 單價
      - 數量
      - 總計
      - 購買時間
      - 收據
      - 已繳
    sort:
      - property: 購買時間
        direction: ASC
    columnSize:
      file.name: 318
      note.其他: 118

```
